NAME="livingwebinar"                                 		# Name of the application 
DJANGODIR=/home/ubuntu/living_webinar/web      		      	# Django project directory 
SOCKFILE=/home/ubuntu/living_webinar/gunicorn.sock			# we will communicte using this unix socket  
NUM_WORKERS=3                                    			# how many worker processes should Gunicorn spawn 
DJANGO_SETTINGS_MODULE=web.settings.production          	# which settings file should Django use 
DJANGO_WSGI_MODULE=web.wsgi                     			# WSGI module name 
  
echo "Starting $NAME as `whoami`" 
  
# Activate the virtual environment 
cd $DJANGODIR 
source ../../lw_venv/bin/activate 
export DJANGO_SETTINGS_MODULE=$DJANGO_SETTINGS_MODULE 
export PYTHONPATH=$DJANGODIR:$PYTHONPATH 
  
# Create the run directory if it doesn't exist 
RUNDIR=$(dirname $SOCKFILE) 
test -d $RUNDIR || mkdir -p $RUNDIR 
  
# Start your Django Unicorn  
exec /home/ubuntu/living_webinar/lw_venv/bin/gunicorn ${DJANGO_WSGI_MODULE}:application \ 
 --name $NAME \ 
 --workers $NUM_WORKERS \ 
 --bind=$SOCKFILE \ 
 --log-level=debug \ 
 --log-file=- 
